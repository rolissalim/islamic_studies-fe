!function(a){a.redirect=function(b,d,e){if(e=e&&"GET"==e.toUpperCase()?"GET":"POST",!d){var f=a.parse_url(b);b=f.url,d=f.params}var g=a("<form>").attr({method:e,action:b});c(d,[],g),a("body").append(g),g.submit()},a.parse_url=function(a){if(-1==a.indexOf("?"))return{url:a,params:{}};var b=a.split("?"),a=b[0],c=b[1],d=c.split("&"),e={};for(var f in d){var g=d[f].split("=");e[g[0]]=g[1]}return{url:a,params:e}};var b=function(b,c,d){var e;if(d.length>0){e=d[0];for(var f=1;f<d.length;++f)e+="["+d[f]+"]";b=e+"["+b+"]"}return a("<input>").attr({type:"hidden",name:b,value:c})},c=function(a,d,e){var f=[];for(var g in a)"object"==typeof a[g]?(f=d.slice(),f.push(g),c(a[g],f,e)):b(g,a[g],d).appendTo(e)}}(jQuery);