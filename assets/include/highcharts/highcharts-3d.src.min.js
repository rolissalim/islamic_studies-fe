!function(a){function b(b,c,d){var e,f=c.options.chart.options3d,g=!1;d?(g=c.inverted,e={x:c.plotWidth/2,y:c.plotHeight/2,z:f.depth/2,vd:l(f.depth,1)*l(f.viewDistance,0)}):e={x:c.plotLeft+c.plotWidth/2,y:c.plotTop+c.plotHeight/2,z:f.depth/2,vd:l(f.depth,1)*l(f.viewDistance,0)};var h,m,n,o,p,q,r=[],s=e.x,t=e.y,u=e.z,v=e.vd,w=i*(g?f.beta:-f.beta),x=i*(g?-f.alpha:f.alpha),y=j(w),z=k(w),A=j(x),B=k(x);return a.each(b,function(a){h=(g?a.y:a.x)-s,m=(g?a.x:a.y)-t,n=(a.z||0)-u,o=z*h-y*n,p=-y*A*h-z*A*n+B*m,q=y*B*h+z*B*n+A*m,v>0&&v<Number.POSITIVE_INFINITY&&(o*=v/(q+u+v),p*=v/(q+u+v)),o+=s,p+=t,q+=u,r.push({x:g?p:o,y:g?o:p,z:q})}),r}function c(a){return void 0!==a&&null!==a}function d(a){var b,c,d=0;for(b=0;b<a.length;b++)c=(b+1)%a.length,d+=a[b].x*a[c].y-a[c].x*a[b].y;return d/2}function e(a){var b,c=0;for(b=0;b<a.length;b++)c+=a[b].z;return a.length?c/a.length:0}function f(a,b,c,d,e,g,i,l){var m=[];if(g>e&&g-e>h/2+1e-4)return m=m.concat(f(a,b,c,d,e,e+h/2,i,l)),m=m.concat(f(a,b,c,d,e+h/2,g,i,l));if(g<e&&e-g>h/2+1e-4)return m=m.concat(f(a,b,c,d,e,e-h/2,i,l)),m=m.concat(f(a,b,c,d,e-h/2,g,i,l));var o=g-e;return["C",a+c*k(e)-c*n*o*j(e)+i,b+d*j(e)+d*n*o*k(e)+l,a+c*k(g)+c*n*o*j(g)+i,b+d*j(g)-d*n*o*k(g)+l,a+c*k(g)+i,b+d*j(g)+l]}function g(b){if(this.chart.is3d()){var d=this.chart.options.plotOptions.column.grouping;void 0===d||d||void 0===this.group.zIndex||this.zIndexSet||(this.group.attr({zIndex:10*this.group.zIndex}),this.zIndexSet=!0);var e=this.options,f=this.options.states;this.borderWidth=e.borderWidth=c(e.edgeWidth)?e.edgeWidth:1,a.each(this.data,function(b){if(null!==b.y){var c=b.pointAttr;this.borderColor=a.pick(e.edgeColor,c[""].fill),c[""].stroke=this.borderColor,c.hover.stroke=a.pick(f.hover.edgeColor,this.borderColor),c.select.stroke=a.pick(f.select.edgeColor,this.borderColor)}})}b.apply(this,[].slice.call(arguments,1))}var h=Math.PI,i=h/180,j=Math.sin,k=Math.cos,l=a.pick,m=Math.round;a.perspective=b;var n=4*(Math.sqrt(2)-1)/3/(h/2);a.SVGRenderer.prototype.toLinePath=function(b,c){var d=[];return a.each(b,function(a){d.push("L",a.x,a.y)}),b.length&&(d[0]="M",c&&d.push("Z")),d},a.SVGRenderer.prototype.cuboid=function(b){var d=this.g(),e=this.cuboidPath(b);return d.front=this.path(e[0]).attr({zIndex:e[3],"stroke-linejoin":"round"}).add(d),d.top=this.path(e[1]).attr({zIndex:e[4],"stroke-linejoin":"round"}).add(d),d.side=this.path(e[2]).attr({zIndex:e[5],"stroke-linejoin":"round"}).add(d),d.fillSetter=function(b){var c=b,d=a.Color(b).brighten(.1).get(),e=a.Color(b).brighten(-.1).get();return this.front.attr({fill:c}),this.top.attr({fill:d}),this.side.attr({fill:e}),this.color=b,this},d.opacitySetter=function(a){return this.front.attr({opacity:a}),this.top.attr({opacity:a}),this.side.attr({opacity:a}),this},d.attr=function(b){if(b.shapeArgs||c(b.x)){var d=b.shapeArgs||b,e=this.renderer.cuboidPath(d);this.front.attr({d:e[0],zIndex:e[3]}),this.top.attr({d:e[1],zIndex:e[4]}),this.side.attr({d:e[2],zIndex:e[5]})}else a.SVGElement.prototype.attr.call(this,b);return this},d.animate=function(b,d,e){if(c(b.x)&&c(b.y)){var f=this.renderer.cuboidPath(b);this.front.attr({zIndex:f[3]}).animate({d:f[0]},d,e),this.top.attr({zIndex:f[4]}).animate({d:f[1]},d,e),this.side.attr({zIndex:f[5]}).animate({d:f[2]},d,e)}else b.opacity?(this.front.animate(b,d,e),this.top.animate(b,d,e),this.side.animate(b,d,e)):a.SVGElement.prototype.animate.call(this,b,d,e);return this},d.destroy=function(){return this.front.destroy(),this.top.destroy(),this.side.destroy(),null},d.attr({zIndex:-e[3]}),d},a.SVGRenderer.prototype.cuboidPath=function(c){var f=c.x,g=c.y,h=c.z,i=c.height,j=c.width,k=c.depth,l=a.charts[this.chartIndex],m=a.map,n=[{x:f,y:g,z:h},{x:f+j,y:g,z:h},{x:f+j,y:g+i,z:h},{x:f,y:g+i,z:h},{x:f,y:g+i,z:h+k},{x:f+j,y:g+i,z:h+k},{x:f+j,y:g,z:h+k},{x:f,y:g,z:h+k}];n=b(n,l,c.insidePlotArea);var o=function(a,b){return a=m(a,function(a){return n[a]}),b=m(b,function(a){return n[a]}),d(a)<0?a:d(b)<0?b:[]},p=[3,2,1,0],q=[7,6,5,4],r=o(p,q),s=[1,6,7,0],t=[4,5,2,3],u=o(s,t),v=[1,2,5,6],w=[0,7,4,3],x=o(v,w);return[this.toLinePath(r,!0),this.toLinePath(u,!0),this.toLinePath(x,!0),e(r),e(u),e(x)]},a.SVGRenderer.prototype.arc3d=function(b){b.alpha*=i,b.beta*=i;var d=this.g(),e=this.arc3dPath(b),f=d.renderer,g=100*e.zTop;return d.shapeArgs=b,d.top=f.path(e.top).setRadialReference(b.center).attr({zIndex:e.zTop}).add(d),d.side1=f.path(e.side2).attr({zIndex:e.zSide1}),d.side2=f.path(e.side1).attr({zIndex:e.zSide2}),d.inn=f.path(e.inn).attr({zIndex:e.zInn}),d.out=f.path(e.out).attr({zIndex:e.zOut}),d.fillSetter=function(b){this.color=b;var c=b,d=a.Color(b).brighten(-.1).get();return this.side1.attr({fill:d}),this.side2.attr({fill:d}),this.inn.attr({fill:d}),this.out.attr({fill:d}),this.top.attr({fill:c}),this},d.translateXSetter=function(a){this.out.attr({translateX:a}),this.inn.attr({translateX:a}),this.side1.attr({translateX:a}),this.side2.attr({translateX:a}),this.top.attr({translateX:a})},d.translateYSetter=function(a){this.out.attr({translateY:a}),this.inn.attr({translateY:a}),this.side1.attr({translateY:a}),this.side2.attr({translateY:a}),this.top.attr({translateY:a})},d.animate=function(b,d,e){return c(b.end)||c(b.start)?(this._shapeArgs=this.shapeArgs,a.SVGElement.prototype.animate.call(this,{_args:b},{duration:d,start:function(){var a=arguments,b=a[0],c=b.elem,d=c._shapeArgs;d.fill!==c.color&&c.attr({fill:d.fill})},step:function(){var b=arguments,c=b[1],d=c.elem,e=d._shapeArgs,f=c.end,g=c.pos,h=a.merge(e,{x:e.x+(f.x-e.x)*g,y:e.y+(f.y-e.y)*g,r:e.r+(f.r-e.r)*g,innerR:e.innerR+(f.innerR-e.innerR)*g,start:e.start+(f.start-e.start)*g,end:e.end+(f.end-e.end)*g}),i=d.renderer.arc3dPath(h);d.shapeArgs=h,d.top.attr({d:i.top,zIndex:i.zTop}),d.inn.attr({d:i.inn,zIndex:i.zInn}),d.out.attr({d:i.out,zIndex:i.zOut}),d.side1.attr({d:i.side1,zIndex:i.zSide1}),d.side2.attr({d:i.side2,zIndex:i.zSide2})}},e)):a.SVGElement.prototype.animate.call(this,b,d,e),this},d.destroy=function(){this.top.destroy(),this.out.destroy(),this.inn.destroy(),this.side1.destroy(),this.side2.destroy(),a.SVGElement.prototype.destroy.call(this)},d.hide=function(){this.top.hide(),this.out.hide(),this.inn.hide(),this.side1.hide(),this.side2.hide()},d.show=function(){this.top.show(),this.out.show(),this.inn.show(),this.side1.show(),this.side2.show()},d.zIndex=g,d.attr({zIndex:g}),d},a.SVGRenderer.prototype.arc3dPath=function(a){function b(a){return a%=2*h,a>h&&(a=2*h-a),a}var c=a.x,d=a.y,e=a.start,g=a.end-1e-5,i=a.r,l=a.innerR,m=a.depth,n=a.alpha,o=a.beta,p=k(e),q=j(e),r=k(g),s=j(g),t=i*k(o),u=i*k(n),v=l*k(o),w=l*k(n),x=m*j(o),y=m*j(n),z=["M",c+t*p,d+u*q];z=z.concat(f(c,d,t,u,e,g,0,0)),z=z.concat(["L",c+v*r,d+w*s]),z=z.concat(f(c,d,v,w,g,e,0,0)),z=z.concat(["Z"]);var A=o>0?h/2:0,B=n>0?0:h/2,C=e>-A?e:g>-A?-A:e,D=g<h-B?g:e<h-B?h-B:g,E=["M",c+t*k(C),d+u*j(C)];E=E.concat(f(c,d,t,u,C,D,0,0)),g>h-B&&e<h-B&&(E=E.concat(["L",c+t*k(D)+x,d+u*j(D)+y]),E=E.concat(f(c,d,t,u,D,g,x,y)),E=E.concat(["L",c+t*k(g),d+u*j(g)]),E=E.concat(f(c,d,t,u,g,D,0,0))),E=E.concat(["L",c+t*k(D)+x,d+u*j(D)+y]),E=E.concat(f(c,d,t,u,D,C,x,y)),E=E.concat(["Z"]);var F=["M",c+v*p,d+w*q];F=F.concat(f(c,d,v,w,e,g,0,0)),F=F.concat(["L",c+v*k(g)+x,d+w*j(g)+y]),F=F.concat(f(c,d,v,w,g,e,x,y)),F=F.concat(["Z"]);var G=["M",c+t*p,d+u*q,"L",c+t*p+x,d+u*q+y,"L",c+v*p+x,d+w*q+y,"L",c+v*p,d+w*q,"Z"],H=["M",c+t*r,d+u*s,"L",c+t*r+x,d+u*s+y,"L",c+v*r+x,d+w*s+y,"L",c+v*r,d+w*s,"Z"],I=Math.atan2(y,-x),J=Math.abs(g+I),K=Math.abs(e+I),L=Math.abs((e+g)/2+I);J=b(J),K=b(K),L=b(L);var M=1e5*L,N=1e5*K,O=1e5*J;return{top:z,zTop:1e5*h+1,out:E,zOut:Math.max(M,N,O),inn:F,zInn:Math.max(M,N,O),side1:G,zSide1:.99*O,side2:H,zSide2:.99*N}},a.Chart.prototype.is3d=function(){return this.options.chart.options3d&&this.options.chart.options3d.enabled},a.wrap(a.Chart.prototype,"isInsidePlot",function(a){return!!this.is3d()||a.apply(this,[].slice.call(arguments,1))}),a.getOptions().chart.options3d={enabled:!1,alpha:0,beta:0,depth:100,viewDistance:25,frame:{bottom:{size:1,color:"rgba(255,255,255,0)"},side:{size:1,color:"rgba(255,255,255,0)"},back:{size:1,color:"rgba(255,255,255,0)"}}},a.wrap(a.Chart.prototype,"init",function(b){var c,d,e=[].slice.call(arguments,1);e[0].chart.options3d&&e[0].chart.options3d.enabled&&(e[0].chart.options3d.alpha=(e[0].chart.options3d.alpha||0)%360,e[0].chart.options3d.beta=(e[0].chart.options3d.beta||0)%360,c=e[0].plotOptions||{},d=c.pie||{},d.borderColor=a.pick(d.borderColor,void 0)),b.apply(this,e)}),a.wrap(a.Chart.prototype,"setChartSize",function(a){if(a.apply(this,[].slice.call(arguments,1)),this.is3d()){var b=this.inverted,c=this.clipBox,d=this.margin,e=b?"y":"x",f=b?"x":"y",g=b?"height":"width",h=b?"width":"height";c[e]=-(d[3]||0),c[f]=-(d[0]||0),c[g]=this.chartWidth+(d[3]||0)+(d[1]||0),c[h]=this.chartHeight+(d[0]||0)+(d[2]||0)}}),a.wrap(a.Chart.prototype,"redraw",function(a){this.is3d()&&(this.isDirtyBox=!0),a.apply(this,[].slice.call(arguments,1))}),a.wrap(a.Chart.prototype,"renderSeries",function(a){var b,c=this.series.length;if(this.is3d())for(;c--;)b=this.series[c],b.translate(),b.render();else a.call(this)}),a.Chart.prototype.retrieveStacks=function(b){var c,d=this.series,e={},f=1;return a.each(this.series,function(a){c=l(a.options.stack,b?0:d.length-1-a.index),e[c]?e[c].series.push(a):(e[c]={series:[a],position:f},f++)}),e.totalStacks=f+1,e},a.wrap(a.Axis.prototype,"setOptions",function(b,c){var d;b.call(this,c),this.chart.is3d()&&(d=this.options,d.tickWidth=a.pick(d.tickWidth,0),d.gridLineWidth=a.pick(d.gridLineWidth,1))}),a.wrap(a.Axis.prototype,"render",function(a){if(a.apply(this,[].slice.call(arguments,1)),this.chart.is3d()){var b=this.chart,c=b.renderer,d=b.options.chart.options3d,e=d.frame,f=e.bottom,g=e.back,h=e.side,i=d.depth,j=this.height,k=this.width,l=this.left,m=this.top;if(!this.isZAxis)if(this.horiz){var n={x:l,y:m+(b.xAxis[0].opposite?-f.size:j),z:0,width:k,height:f.size,depth:i,insidePlotArea:!1};this.bottomFrame?this.bottomFrame.animate(n):this.bottomFrame=c.cuboid(n).attr({fill:f.color,zIndex:b.yAxis[0].reversed&&d.alpha>0?4:-1}).css({stroke:f.color}).add()}else{var o={x:l+(b.yAxis[0].opposite?0:-h.size),y:m+(b.xAxis[0].opposite?-f.size:0),z:i,width:k+h.size,height:j+f.size,depth:g.size,insidePlotArea:!1};this.backFrame?this.backFrame.animate(o):this.backFrame=c.cuboid(o).attr({fill:g.color,zIndex:-3}).css({stroke:g.color}).add();var p={x:l+(b.yAxis[0].opposite?k:-h.size),y:m+(b.xAxis[0].opposite?-f.size:0),z:0,width:h.size,height:j+f.size,depth:i,insidePlotArea:!1};this.sideFrame?this.sideFrame.animate(p):this.sideFrame=c.cuboid(p).attr({fill:h.color,zIndex:-2}).css({stroke:h.color}).add()}}}),a.wrap(a.Axis.prototype,"getPlotLinePath",function(a){var c=a.apply(this,[].slice.call(arguments,1));if(!this.chart.is3d())return c;if(null===c)return c;var d=this.chart,e=d.options.chart.options3d,f=this.isZAxis?this.chart.plotWidth:e.depth,g=this.opposite;this.horiz&&(g=!g);var h=[this.swapZ({x:c[1],y:c[2],z:g?f:0}),this.swapZ({x:c[1],y:c[2],z:f}),this.swapZ({x:c[4],y:c[5],z:f}),this.swapZ({x:c[4],y:c[5],z:g?0:f})];return h=b(h,this.chart,!1),c=this.chart.renderer.toLinePath(h,!1)}),a.wrap(a.Axis.prototype,"getLinePath",function(a){return this.chart.is3d()?[]:a.apply(this,[].slice.call(arguments,1))}),a.wrap(a.Axis.prototype,"getPlotBandPath",function(a){if(this.chart.is3d()){var b=arguments,c=b[1],d=b[2],e=this.getPlotLinePath(d),f=this.getPlotLinePath(c);return f&&e?f.push("L",e[10],e[11],"L",e[7],e[8],"L",e[4],e[5],"L",e[1],e[2]):f=null,f}return a.apply(this,[].slice.call(arguments,1))}),a.wrap(a.Tick.prototype,"getMarkPath",function(a){var c=a.apply(this,[].slice.call(arguments,1));if(!this.axis.chart.is3d())return c;var d=[this.axis.swapZ({x:c[1],y:c[2],z:0}),this.axis.swapZ({x:c[4],y:c[5],z:0})];return d=b(d,this.axis.chart,!1),c=["M",d[0].x,d[0].y,"L",d[1].x,d[1].y]}),a.wrap(a.Tick.prototype,"getLabelPosition",function(a){var c=a.apply(this,[].slice.call(arguments,1));if(!this.axis.chart.is3d())return c;var d=b([this.axis.swapZ({x:c.x,y:c.y,z:0})],this.axis.chart,!1)[0];return d.x=d.x-(!this.axis.horiz&&this.axis.opposite?this.axis.transA:0),d.old=c,d}),a.wrap(a.Tick.prototype,"handleOverflow",function(a,b){return this.axis.chart.is3d()&&(b=b.old),a.call(this,b)}),a.wrap(a.Axis.prototype,"getTitlePosition",function(a){var c=a.apply(this,[].slice.call(arguments,1));return this.chart.is3d()?c=b([this.swapZ({x:c.x,y:c.y,z:0})],this.chart,!1)[0]:c}),a.wrap(a.Axis.prototype,"drawCrosshair",function(a){var b=arguments;this.chart.is3d()&&b[2]&&(b[2]={plotX:b[2].plotXold||b[2].plotX,plotY:b[2].plotYold||b[2].plotY}),a.apply(this,[].slice.call(b,1))}),a.Axis.prototype.swapZ=function(a,b){if(this.isZAxis){var c=b?0:this.chart.plotLeft,d=this.chart;return{x:c+(d.yAxis[0].opposite?a.z:d.xAxis[0].width-a.z),y:a.y,z:a.x-c}}return a};var o=a.ZAxis=function(){this.isZAxis=!0,this.init.apply(this,arguments)};a.extend(o.prototype,a.Axis.prototype),a.extend(o.prototype,{setOptions:function(b){b=a.merge({offset:0,lineWidth:0},b),a.Axis.prototype.setOptions.call(this,b),this.coll="zAxis"},setAxisSize:function(){a.Axis.prototype.setAxisSize.call(this),this.width=this.len=this.chart.options.chart.options3d.depth,this.right=this.chart.chartWidth-this.width-this.left},getSeriesExtremes:function(){var b=this,c=b.chart;b.hasVisibleSeries=!1,b.dataMin=b.dataMax=b.ignoreMinPadding=b.ignoreMaxPadding=null,b.buildStacks&&b.buildStacks(),a.each(b.series,function(a){if(a.visible||!c.options.chart.ignoreHiddenSeries){var d,e=a.options,f=e.threshold;b.hasVisibleSeries=!0,b.isLog&&f<=0&&(f=null),d=a.zData,d.length&&(b.dataMin=Math.min(l(b.dataMin,d[0]),Math.min.apply(null,d)),b.dataMax=Math.max(l(b.dataMax,d[0]),Math.max.apply(null,d)))}})}}),a.wrap(a.Chart.prototype,"getAxes",function(b){var c=this,d=this.options,e=d.zAxis=a.splat(d.zAxis||{});b.call(this),c.is3d()&&(this.zAxis=[],a.each(e,function(a,b){a.index=b,a.isX=!0,new o(c,a).setScale()}))}),a.wrap(a.seriesTypes.column.prototype,"translate",function(c){if(c.apply(this,[].slice.call(arguments,1)),this.chart.is3d()){var d=this,e=d.chart,f=d.options,g=f.depth||25,h=f.stacking?f.stack||0:d._i,i=h*(g+(f.groupZPadding||1));!1!==f.grouping&&(i=0),i+=f.groupZPadding||1,a.each(d.data,function(a){if(null!==a.y){var c=a.shapeArgs,d=a.tooltipPos;a.shapeType="cuboid",c.z=i,c.depth=g,c.insidePlotArea=!0,d=b([{x:d[0],y:d[1],z:i}],e,!1)[0],a.tooltipPos=[d.x,d.y]}}),d.z=i}}),a.wrap(a.seriesTypes.column.prototype,"animate",function(b){if(this.chart.is3d()){var c=arguments,d=c[1],e=this.yAxis,f=this,g=this.yAxis.reversed;a.svg&&(d?a.each(f.data,function(a){null!==a.y&&(a.height=a.shapeArgs.height,a.shapey=a.shapeArgs.y,a.shapeArgs.height=1,g||(a.stackY?a.shapeArgs.y=a.plotY+e.translate(a.stackY):a.shapeArgs.y=a.plotY+(a.negative?-a.height:a.height)))}):(a.each(f.data,function(a){null!==a.y&&(a.shapeArgs.height=a.height,a.shapeArgs.y=a.shapey,a.graphic&&a.graphic.animate(a.shapeArgs,f.options.animation))}),this.drawDataLabels(),f.animate=null))}else b.apply(this,[].slice.call(arguments,1))}),a.wrap(a.seriesTypes.column.prototype,"init",function(a){if(a.apply(this,[].slice.call(arguments,1)),this.chart.is3d()){var b=this.options,c=b.grouping,d=b.stacking,e=0;if(void 0===c||c){var f,g=this.chart.retrieveStacks(d),h=b.stack||0;for(f=0;f<g[h].series.length&&g[h].series[f]!==this;f++);e=10*g.totalStacks-10*(g.totalStacks-g[h].position)-f}b.zIndex=e}}),a.wrap(a.Series.prototype,"alignDataLabel",function(a){if(this.chart.is3d()&&("column"===this.type||"columnrange"===this.type)){var c=this,d=c.chart,e=arguments,f=e[4],g={x:f.x,y:f.y,z:c.z};g=b([g],d,!0)[0],f.x=g.x,f.y=g.y}a.apply(this,[].slice.call(arguments,1))}),a.seriesTypes.columnrange&&a.wrap(a.seriesTypes.columnrange.prototype,"drawPoints",g),a.wrap(a.seriesTypes.column.prototype,"drawPoints",g),a.wrap(a.seriesTypes.pie.prototype,"translate",function(b){if(b.apply(this,[].slice.call(arguments,1)),this.chart.is3d()){var c=this,d=c.chart,e=d.options,f=c.options,g=f.depth||0,h=e.chart.options3d,l={x:d.plotWidth/2,y:d.plotHeight/2,z:h.depth},n=h.alpha,o=h.beta,p=f.stacking?(f.stack||0)*g:c._i*g;p+=g/2,!1!==f.grouping&&(p=0),a.each(c.data,function(a){var b,d=a.shapeArgs;a.shapeType="arc3d",d.z=p,d.depth=.75*g,d.origin=l,d.alpha=n,d.beta=o,d.center=c.center,b=(d.end+d.start)/2,a.slicedTranslation={translateX:m(k(b)*f.slicedOffset*k(n*i)),translateY:m(j(b)*f.slicedOffset*k(n*i))}})}}),a.wrap(a.seriesTypes.pie.prototype.pointClass.prototype,"haloPath",function(a){var b=arguments;return this.series.chart.is3d()?[]:a.call(this,b[1])}),a.wrap(a.seriesTypes.pie.prototype,"drawPoints",function(b){var c=this.group,d=this.options,e=d.states;this.chart.is3d()&&(this.borderWidth=d.borderWidth=d.edgeWidth||1,this.borderColor=d.edgeColor=a.pick(d.edgeColor,d.borderColor,void 0),e.hover.borderColor=a.pick(e.hover.edgeColor,this.borderColor),e.hover.borderWidth=a.pick(e.hover.edgeWidth,this.borderWidth),e.select.borderColor=a.pick(e.select.edgeColor,this.borderColor),e.select.borderWidth=a.pick(e.select.edgeWidth,this.borderWidth),a.each(this.data,function(a){var b=a.pointAttr;b[""].stroke=a.series.borderColor||a.color,b[""]["stroke-width"]=a.series.borderWidth,b.hover.stroke=e.hover.borderColor,b.hover["stroke-width"]=e.hover.borderWidth,b.select.stroke=e.select.borderColor,b.select["stroke-width"]=e.select.borderWidth})),b.apply(this,[].slice.call(arguments,1)),this.chart.is3d()&&a.each(this.points,function(a){var b=a.graphic;b.out.add(c),b.inn.add(c),b.side1.add(c),b.side2.add(c),b[a.y?"show":"hide"]()})}),a.wrap(a.seriesTypes.pie.prototype,"drawDataLabels",function(b){if(this.chart.is3d()){var c=this;a.each(c.data,function(a){var b=a.shapeArgs,d=b.r,e=b.depth,f=(b.alpha||c.chart.options.chart.options3d.alpha)*i,g=(b.start+b.end)/2,h=a.labelPos;h[1]+=-d*(1-k(f))*j(g)+(j(g)>0?j(f)*e:0),h[3]+=-d*(1-k(f))*j(g)+(j(g)>0?j(f)*e:0),h[5]+=-d*(1-k(f))*j(g)+(j(g)>0?j(f)*e:0)})}b.apply(this,[].slice.call(arguments,1))}),a.wrap(a.seriesTypes.pie.prototype,"addPoint",function(a){a.apply(this,[].slice.call(arguments,1)),this.chart.is3d()&&this.update(this.userOptions,!0)}),a.wrap(a.seriesTypes.pie.prototype,"animate",function(b){if(this.chart.is3d()){var c,d=arguments,e=d[1],f=this.options.animation,g=this.center,h=this.group,i=this.markerGroup;a.svg&&(!0===f&&(f={}),e?(h.oldtranslateX=h.translateX,h.oldtranslateY=h.translateY,c={translateX:g[0],translateY:g[1],scaleX:.001,scaleY:.001},h.attr(c),i&&(i.attrSetters=h.attrSetters,i.attr(c))):(c={translateX:h.oldtranslateX,translateY:h.oldtranslateY,scaleX:1,scaleY:1},h.animate(c,f),i&&i.animate(c,f),this.animate=null))}else b.apply(this,[].slice.call(arguments,1))}),a.wrap(a.seriesTypes.scatter.prototype,"translate",function(c){if(c.apply(this,[].slice.call(arguments,1)),this.chart.is3d()){var d,e,f,g,h,i=this,j=i.chart,k=a.pick(i.zAxis,j.options.zAxis[0]),l=[];for(h=0;h<i.data.length;h++)d=i.data[h],g=k.isLog&&k.val2lin?k.val2lin(d.z):d.z,d.plotZ=k.translate(g),d.isInside=!!d.isInside&&(g>=k.min&&g<=k.max),l.push({x:d.plotX,y:d.plotY,z:d.plotZ});for(e=b(l,j,!0),h=0;h<i.data.length;h++)d=i.data[h],f=e[h],d.plotXold=d.plotX,d.plotYold=d.plotY,d.plotX=f.x,d.plotY=f.y,d.plotZ=f.z}}),a.wrap(a.seriesTypes.scatter.prototype,"init",function(a,b,c){b.is3d()&&(this.axisTypes=["xAxis","yAxis","zAxis"],this.pointArrayMap=["x","y","z"],this.parallelArrays=["x","y","z"]);var d=a.apply(this,[b,c]);if(this.chart.is3d()){var e="x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>z: <b>{point.z}</b><br/>";this.userOptions.tooltip?this.tooltipOptions.pointFormat=this.userOptions.tooltip.pointFormat||e:this.tooltipOptions.pointFormat=e}return d}),a.VMLRenderer&&(a.setOptions({animate:!1}),a.VMLRenderer.prototype.cuboid=a.SVGRenderer.prototype.cuboid,a.VMLRenderer.prototype.cuboidPath=a.SVGRenderer.prototype.cuboidPath,a.VMLRenderer.prototype.toLinePath=a.SVGRenderer.prototype.toLinePath,a.VMLRenderer.prototype.createElement3D=a.SVGRenderer.prototype.createElement3D,a.VMLRenderer.prototype.arc3d=function(b){var c=a.SVGRenderer.prototype.arc3d.call(this,b);return c.css({zIndex:c.zIndex}),c},a.VMLRenderer.prototype.arc3dPath=a.SVGRenderer.prototype.arc3dPath,a.wrap(a.Axis.prototype,"render",function(a){a.apply(this,[].slice.call(arguments,1)),this.sideFrame&&(this.sideFrame.css({zIndex:0}),this.sideFrame.front.attr({fill:this.sideFrame.color})),this.bottomFrame&&(this.bottomFrame.css({zIndex:1}),this.bottomFrame.front.attr({fill:this.bottomFrame.color})),this.backFrame&&(this.backFrame.css({zIndex:0}),this.backFrame.front.attr({fill:this.backFrame.color}))}))}(Highcharts);